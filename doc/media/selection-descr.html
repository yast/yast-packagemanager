<HTML>
<HEAD>
<TITLE>
UnitedLinux selection description
</TITLE>
</HEAD>
<BODY>
<H1>UnitedLinux selection description</H1>
<H1>Motivation</H1>
Selections define package sets by grouping list of package names
under a common name.<br>
This abstracts away from the single package selection to a 
'task' (or 'usage') oriented software setup.<br>
A similar approach is to use (empty) 'task' packages which require
a set of other packages in order to accomplish a task. However, this
approach does not take language specific packages into account, nor
does it allow for automatic deselection of packages.<br>
Grouping sets of packages together also allows to compute dependencies
on a much smaller memory footprint and makes it easier for the unexperienced
user to choose the right set of software.<br>
<br>
By making selections similar to packages (by assigning name, version,
architecture, dependencies, etc.) similar user interfaces and internal
dependency handling can be used.<br>
Ideally, a complete distribution can be put together by using selections
as building blocks abstracting away from the huge amount of packages.<br>
<br>
This document describes the format of a selection file.<br>
<br>
<p></p>
<H1>Requirements</H1>
<h2>Selection requirements</h2>
<OL>
<LI><b>Name</b><br>
A selection has a name.</li>
<LI><b>Version</b><br>
A selection has a version which should denote the product version this
selection belongs to.</LI>
<LI><b>Release</b><br>
A selection has a release, which should be increased for every change
of the selection.</LI>
<LI><b>Architecture</b><br>
A selection might have an architecture which restricts
it to systems with this architecture.</LI>
<LI><b>Summary</b><br>
A short label describing the selection (in multiple languages!)</LI>
<LI><b>Category</b><br>
A selection can be a <i>base</i> or an <i>add-on</i> selection.<br>
Base selections should not have any requirements, just recommendations
or suggestions. Base selections are
mutually exclusive to other base selections.<br>
Add-on selections stack onto base selections and can be grouped by
the category name.</LI>
<LI><b>Sort oder</b><br>
When presenting selections to the user, a sort order independant of
the summary translations is needed.</LI>
<LI><b>Requires</b><br>
Other selections required</LI>
<LI><b>Provides</b><br>
A selection implicitly provides its name. An additional
provides is useful on updates if a selection was renamed.</LI>
<LI><b>Obsoletes</b><br>
Selections obsoleted by this selection. Useful for update.</LI>
<LI><b>Conflicts</b><br>
Selections conflicting with this selection.</LI>
<LI><b>Recommends</b><br>
Selections recommended by this selection. (Weak dependency)<br>
Recommended selections are automatically pre-selected but the user
can choose to de-deselect them.</LI>
<LI><b>Suggests</b><br>
Selections suggested by this selection. (Weak dependency)<br>
Suggested selections are offered to the user but are <b>not</b>
automatically pre-selected.
</LI>
<LI><b>Size</b><br>
Sum of all package sizes, Sum of installed packages</LI>
<LI><b>Package to install (generally)</b><br>
List of packages installed by this selection</LI>
<LI><b>Package to install (language specific)</b><br>
List of packages installed by this selection if the respective language is active</LI>
<LI><b>Packages to remove (generally)</b><br>
List of packages removed by this selection</LI>
<LI><b>Packages to remove (language specific)</b><br>
List of packages removed by this selection if the respective language is active</LI>
</OL>
<br>
<H1>Implementation</H1>
<H2>Syntax</H2>
The syntactic representation of a selection is similar to that of a package
as describes in the <A HREF="package-descr.html">package description</A> document.
<br>
File encoding is UTF-8.<BR>
File is line based.<BR>
Lines starting with '<tt>#</tt>' are ignored.<BR>
<br>
<p></p>
<H2>Selection keywords</H2>
<TABLE border>
<tr><th>Keyword&nbsp;&nbsp;&nbsp;</th><th>Value</th><th>Comment</th></tr>
<tr><td valign=top>=Sel</td><td valign=top><i>name</i> <i>version</i> <i>release</i> [<i>architecture</i>]</td>
	<td>These name, version, and release identify a selection unambiguously and are used as a key.<br>
	The architecture is optional and defaults to <i>all architectures</i><br>
	If it's given, is must match (<b>FIXME:</b> 'uname -a' or DEFAULTBASE ?)</td></tr>
<tr><td valign=top>=Sum</td><td valign=top><i>summary</i></td><td>one line label in default language</td></tr>
<tr><td valign=top>=Sum.<i>lang</i></td><td valign=top><i>summary</i></td><td>one line language specific label</td></tr>
<tr><td valign=top>=Cat</td><td valign=top><i>category</i></td><td>category (aka 'type of') selection<br>
	can be '<tt>base</tt>' (only one base selection can be choosen) or any other
	string, denoting an '<tt>add-on</tt>' selection (multiple addon selection can be choosen)<br>
	(<small>On the long run this key will denote a grouping for add-on selections and the 'base' key
	will be dropped. In an ideal world, only one base selection should exist.<br>
	The current package dependencies aren't ready for a true building block approach.)</small></td></tr>
<tr><td valign=top>=Vis</td><td valign=top><i>visibility</i></td><td>visibility of selection (for user interface)<br>
	Selection can be hidden from the user. This is useful e.g. for architecture dependant selections which
	are handled internally by the system.</td></tr>
<tr><td valign=top>=Ord</td><td valign=top><i>ordering</i></td><td>order of selection (for user interface)<br>
	This <i>three-digit-integer-value</i> defines the order of the selection when
	listing multiple selections in the user interface</td></tr>
<tr><td valign=top>+Req<br>-Req</td><td valign=top><i>selections</i></td><td>selections required for installation</td></tr>
<tr><td valign=top>+Prv<br>-Prv</td><td valign=top><i>selections</i></td><td>selections provided</td></tr>
<tr><td valign=top>+Con<br>-Con</td><td valign=top><i>selections</i></td><td>selections conflicting</td></tr>
<tr><td valign=top>+Obs<br>-Obs</td><td valign=top><i>selections</i></td><td>selections obsoleted</td></tr>
<tr><td valign=top>+Rec<br>-Rec</td><td valign=top><i>selections</i></td><td>recommended selections</td></tr>
<tr><td valign=top>+Sug<br>-Sug</td><td valign=top><i>selections</i></td><td>suggested selections</td></tr>
<tr><td valign=top>=Siz</td><td valign=top><i>pkgsize</i> <i>instsize</i></td><td>size in bytes</td></tr>
<tr><td valign=top>+Ins<br>-Ins</i></td><td valign=top><i>packages list</i></td><td>list of packages to install<br>
(see below)</td></tr>
<tr><td valign=top>+Ins.<i>lang</i><br>-Ins.<i>lang</i></td><td valign=top><i>packages list</i></td><td>list of packages to install if given language is active</td></tr>
<tr><td valign=top>+Del<br>-Del</td><td valign=top><i>packages list</i></td><td>list of packages to delete<br>
(see below)</td></tr>
<tr><td valign=top>+Del.<i>lang</i><br>-Del.<i>lang</i></td><td valign=top><i>packages list</i></td><td>list of packages to delete if given language is active</td></tr>
</TABLE>
<p></p>
The list of install and delete packages normally just lists packages by name, one per line.<br>
An expection is the syntax <tt><i>name</i> (<i>alternative</i> [,<i>alternative</i> ...])</tt> which
gives a list of alternative packages if the first isn't available.<br>
The first available package of the alternative list will be choosen.<br>
<br>
<H2>Example</H2>
(shortened at <tt>...</tt>)
<pre>
# SuSE-Linux-Package-Selection 3.0 -- (c) 2002 SuSE Linux AG
# generated on Sat Aug 10 17:55:42 UTC 2002

=Ver: 3.0

=Sel: Kde-Desktop 8.1

=Siz: 123456 1234567

=Sum.cs: Prostředí KDE
=Sum.de: KDE Desktop-Umgebung
=Sum.en: KDE Desktop Environment
=Sum.es: Entorno Gráfico KDE
=Sum.fr: Environnement de bureau KDE
=Sum.gl: KDE Desktop Environment
=Sum.hu: KDE grafikus munkakörnyezet
=Sum.it: Ambiente Desktop KDE
=Sum.ja: KDE デスクトップ環境
=Sum.lt: KDE Desktop Environment
=Sum.nl: KDE Desktop omgeving
=Sum.pt: KDE Desktop Environment
=Sum.sv: KDE Desktop Environment
=Sum.tr: KDE Desktop Environment

+Req:
X11
Basis-Sound 
-Req:

+Con:
Minimal 
-Con:

+Rec:
KDE-Multimedia
-Rec:

+Sug:
KDE-Games
-Sug:

=Cat: addon

=Vis: true

+Ins:
SDL
aalib
alsa
</pre>
<tt>...</tt>
<pre>
smpppd
unixODBC
wvdial
-Ins:

+Ins.cs:
kde3-i18n-cs
-Ins.cs:

+Ins.da:
kde3-i18n-da
-Ins.da:

+Ins.de:
kde3-i18n-de
-Ins.de:
</pre>
<tt>...</tt>
</BODY>
</HTML>
