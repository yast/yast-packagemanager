default namespace = "http://linux.duke.edu/metadata/rpm"
namespace ns1 = "http://linux.duke.edu/metadata/common"


element-format = 
    element ns1:format { format }

format =
    element-license,
    element-vendor,
    element-group,
    element-buildhost,
    element-sourcerpm,
    element-header-range,
    element-provides?,
    element-conflicts?,
    element-obsoletes?,
    element-requires?,
    element-file*


element-license =
    element license { text }

element-vendor =
    element vendor { text }

element-group =
    element group { text }

element-buildhost =
    element buildhost { text }

element-sourcerpm =
    element sourcerpm { text }

element-header-range =
    element header-range { header-range }

header-range = 
    attribute start { xsd:nonNegativeInteger },
    attribute end { xsd:nonNegativeInteger },
    empty

element-provides =
    element provides { provides }

shared-entry-attributes =
     attribute epoch { xsd:nonNegativeInteger },
     attribute ver { text },
     attribute rel { text }?

attribute-name =
     attribute name { text }

provides =
    element entry {
      attribute-name,
      (
        shared-entry-attributes,
        attribute flags { "EQ" | "LE" | "GE" }
      )?,
      empty
    }+

element-conflicts =
    element conflicts { conflicts }

conflicts =
    element entry {
      attribute-name,
      (
        shared-entry-attributes,
        attribute flags { "EQ" | "LE" | "GE" | "LT" | "GT" }
      )?,
      empty
    }+


element-obsoletes =
    element obsoletes { obsoletes }

obsoletes =
    element entry {
      attribute-name,
      (
        shared-entry-attributes,
        attribute flags { "EQ" | "LE" | "GE" | "LT" }
      )?,
      empty
    }+

element-requires =
    element requires { requires }

requires =
    element entry {
      attribute-name,
      (
        shared-entry-attributes,
        attribute flags { "EQ" | "LE" | "GE" | "LT" | "GT" }
      )?,
      attribute pre { "1" | "0" }?,
        empty
      }*

element-file =
    element ns1:file { file }

file =
    attribute type { "dir" | "ghost" }?,
    text
